<html>
<head>
<script src="../../build/pdf.js"></script>
<script src="../../node_modules/file-saver/FileSaver.js"></script>
<script src="functions.js"></script>

</head>

<style>

button {
	background-color: #4CAF50; /* Green */
border: none;
color: white;
padding: 15px 32px;
	 text-align: center;
	 text-decoration: none;
display: none;
	 font-size: 16px;
}
.infoDiv {

margin:5px;



}
</style>


<body>
<div class="infoDiv">

<h2>This is a pdf converted to svg <h2>

</div>
<div id="displayDiv"></div>
<button id="downloadButton" style="color:0x00ff00" onclick ="downloadSvg()">Download svg file</button>
<script>


window.onload = function () {

	//display to contain svg
	var displayDiv = document.getElementById("displayDiv");
	initPdf( displayDiv );

	//testurl
	var url = '../../web/compressed.tracemonkey-pldi-09.pdf';
	var pdfPromise = loadPdf(url);
	
	// a promise that will give a svgString
	pdfPromise.then(function(svgString){
			
			//adds the button when everything is loaded
			var myButton = document.getElementById("downloadButton");	
			myButton.onclick = function(){
				//saving using filesaver lib
				saveAs(new Blob([svgString], {type:"image/svg;charset=utf-8"}), "oldPdf.svg");
			}

			//show button
			myButton.style.display = "inline-block";

			});


};
</script>



</body>

</html>

